{% extends 'base.html' %}
{% block content %}
<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-md-7">
      <div class="card shadow animate__animated animate__fadeIn">
        <div class="card-body">
          <h3 class="mb-4">{{ 'Modifier' if action == 'edit' else 'Ajouter' }} un produit</h3>
          <form method="POST">
            <div class="mb-3">
              <label for="nom" class="form-label">Nom du produit</label>
              <input type="text" class="form-control" id="nom" name="nom" required value="{{ produit.nom if produit else '' }}">
            </div>
            <div class="mb-3">
              <label for="description" class="form-label">Description</label>
              <textarea class="form-control" id="description" name="description" rows="2">{{ produit.description if produit else '' }}</textarea>
            </div>
            <div class="mb-3">
              <label for="prix" class="form-label">Prix</label>
              <input type="number" step="0.01" class="form-control" id="prix" name="prix" required value="{{ produit.prix if produit else '' }}">
            </div>
            <div class="mb-3">
              <label for="type_prix" class="form-label">Type de prix</label>
              <select class="form-select" id="type_prix" name="type_prix" required>
                <option value="HT" {% if produit and produit.type_prix == 'HT' %}selected{% endif %}>Hors taxe (HT)</option>
                <option value="TTC" {% if produit and produit.type_prix == 'TTC' %}selected{% endif %}>Toutes taxes comprises (TTC)</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="tva" class="form-label">TVA (%)</label>
              <input type="number" step="0.01" class="form-control" id="tva" name="tva" required value="{{ produit.tva if produit else '20.0' }}">
            </div>
            <button type="submit" class="btn btn-primary">{{ 'Enregistrer' if action == 'edit' else 'Ajouter' }}</button>
            <a href="{{ url_for('produits.produits') }}" class="btn btn-secondary ms-2">Annuler</a>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %} 